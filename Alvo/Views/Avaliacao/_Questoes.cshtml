@model Alvo.ViewModels.QuestionarioViewModel

@{
    int? lIdEtapaAtual = 0;
    int? lIdCategoriaAtual = 0;
    int? lIdGrupoAtual = 0;

    foreach (var item in Model.Questao)
    {
        if (lIdEtapaAtual == 0)
        {
            lIdEtapaAtual = (item.IdEtapa!=null)?item.IdEtapa:0;
        }

        if (lIdGrupoAtual == 0)
        {
            lIdGrupoAtual = (item.CategoriaQuestao.GrupoQuestao.Id != null) ? item.CategoriaQuestao.GrupoQuestao.Id : 0;
        }

        if (lIdCategoriaAtual == 0)
        {
            lIdCategoriaAtual = (item.CategoriaQuestao.Id != null) ? item.CategoriaQuestao.Id : 0;
        }
    }
}
<table class="table">
    <tr>
        <td colspan="3" style="text-align:center;color:white;font-size:large;font-family:Arial;background-color:black">@Html.Label("ETAPA II", htmlAttributes: new { @class = "control-label" })</td>
    </tr>
    <tr>
        <td colspan="3" style="text-align:center;font-size:large;background-color:#8B8989"><strong>@Html.Label("1. PROPOSTA DE TRABLHO", htmlAttributes: new { @class = "control-label" })</strong></td>
    </tr>
    <tr style="background-color:#EEE9E9">
        <th>
            @Html.Raw("Aspéctos Avaliados")
        </th>
        <th style="text-align:center">
            @Html.Raw("Pontuação Máxima")
        </th>
        <th></th>
    </tr>
    @{
        decimal lTotalPontos = 0;

        foreach (var item in Model.Questao)
        {
            lTotalPontos += (decimal)item.ValorBarema;
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Descricao)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ValorBarema)
                </td>
                <td>
                    <input type="text" name="Nota" id="Nota" width="20px" />
                </td>
            </tr>
        }
    <tr>
        <td>
            TOTAL DE PONTOS
        </td>
        <td>
            @Html.Raw(lTotalPontos)
        </td>
        <td></td>
    </tr>
}
</table>
